<details class="accordion {% if size %}accordion--{{ size }}{% endif %} group {% if bleed %}bleed sm:unbleed{% endif %}" is="{{ is | default: 'accordion-disclosure' }}" {% if open %}open aria-expanded="true"{% else %}aria-expanded="false"{% endif %} {{ block.shopify_attributes }}>
  <summary>
    <span class="accordion__toggle {% if show_title_as_text %}text-lg{% else %}h6{% endif %}">
      {%- if custom_icon != blank or icon != 'none' -%}
        <span class="text-with-icon gap-4">
          {%- if custom_icon != blank -%}
            {{- custom_icon | image_url: width: custom_icon.width | image_tag: loading: 'lazy', sizes: '16px', widths: '16,32,48', class: 'constrained-image', style: '--image-max-width: 16px' -}}
          {%- else -%}
            {%- render 'icon' with icon, width: 16 -%}
          {%- endif -%}

          {{- title -}}
        </span>
      {%- else -%}
        <span>{{ title }}</span>
      {%- endif -%}

      {%- if show_arrow -%}
        {%- render 'icon' with 'chevron-down', class: 'group-expanded:rotate' -%}
      {%- else -%}
        <span class="animated-plus group-expanded:rotate" aria-hidden="true"></span>
      {%- endif -%}
    </span>
  </summary>

  <div class="accordion__content {% if prose_content %}prose{% endif %}">
    {{- content -}}
  </div>
</details>
